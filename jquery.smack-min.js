!function($){function t(t,e){for(t=t.split(".");t.length>0&&""!==t[0];t.shift()){if(void 0===e)return;for(var r=t[0].split("|");r.length>0&&void 0===e[r[0]];)r.shift();e=e[r[0]]}return e}$.fn.smack=function(e){return this.find("[data-bind]").addBack("[data-bind]").each(function(){var r,a=$(this),i=a.attr("data-bind"),n=/(^|,)\s*((\w+):)?\s*(\!|\#|\?)?('([^']*)'|([^,\|]+(?:\|[^,\|]+)*))/g;for(a.attr("data-bind",null);null!==(r=n.exec(i));){var f;if(f=r[7]?t(r[7],e):r[6].replace(/\{([^\}\|]+(?:\|[^\}\|]+)*)\}/g,function(r,a){return t(a,e)}),r[3])a.attr(r[3],f);else if("?"===r[4]){if(f){a.remove();break}}else if("!"===r[4])a.html(f);else if("#"===r[4]){for(var l in f)if(f.hasOwnProperty(l)){var o=a.clone().attr("data-bind",i.replace(r[0],""));a.before(o.smack(f[l]))}a.remove()}else a.text(f)}}),this}}(jQuery);